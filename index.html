<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√≤ng Quay May M·∫Øn Pro</title>
    <style>
        :root {
            --primary-color: #e63946;
            --secondary-color: #457b9d;
            --success-color: #2a9d8f;
        }
        body { 
            font-family: 'Arial', sans-serif; 
            text-align: center; 
            background: linear-gradient(135deg, #1d3557 0%, #457b9d 100%); 
            color: #fff;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        .container { 
            width: 90%;
            max-width: 800px; 
            background: rgba(255, 255, 255, 0.95); 
            padding: 50px; 
            border-radius: 30px; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            color: #333;
        }
        h1 { font-size: 3rem; color: var(--primary-color); margin-bottom: 30px; text-transform: uppercase; letter-spacing: 2px; }
        
        /* Hi·ªÉn th·ªã s·ªë tr√∫ng th∆∞·ªüng - TO V√Ä R√ï */
        .prize-display { 
            font-size: 8rem; 
            font-weight: 900; 
            margin: 40px 0; 
            height: 200px; 
            line-height: 200px;
            color: var(--secondary-color); 
            background: #f1f1f1;
            border: 8px solid var(--secondary-color);
            border-radius: 20px;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }

        /* N√∫t b·∫•m kh·ªïng l·ªì */
        button { 
            padding: 25px 60px; 
            font-size: 2.5rem; 
            font-weight: bold;
            cursor: pointer; 
            background-color: var(--success-color); 
            color: white; 
            border: none; 
            border-radius: 50px; 
            transition: all 0.2s;
            box-shadow: 0 10px 0 #1b665d;
        }
        button:hover { transform: translateY(-3px); box-shadow: 0 13px 0 #1b665d; }
        button:active { transform: translateY(5px); box-shadow: 0 2px 0 #1b665d; }
        button:disabled { background-color: #bdc3c7; box-shadow: 0 5px 0 #7f8c8d; cursor: not-allowed; }

        .info-panel {
            display: flex;
            justify-content: space-around;
            margin-top: 40px;
            font-size: 1.5rem;
            border-top: 2px solid #eee;
            padding-top: 20px;
        }
        .count-item b { color: var(--primary-color); font-size: 2rem; }
        
        .history { 
            margin-top: 30px; 
            text-align: left; 
            max-height: 200px; 
            overflow-y: auto; 
            background: #fff;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üéÅ QUAY S·ªê TH∆Ø·ªûNG</h1>
    
    <div class="prize-display" id="result">---</div>
    
    <button id="spinBtn" onclick="spin()">B·∫ÆT ƒê·∫¶U QUAY</button>

    <div class="info-panel">
        <div class="count-item">Gi·∫£i 50k: <b id="count50">5</b></div>
        <div class="count-item">Gi·∫£i 20k: <b id="count20">10</b></div>
    </div>

    <div class="history" id="history">
        <strong>L·ªãch s·ª≠:</strong>
    </div>
</div>

<script>
    let inventory = {
        "50.000": 5,
        "20.000": 10,
        "10.000": Infinity
    };

    function spin() {
        const btn = document.getElementById('spinBtn');
        const resultDiv = document.getElementById('result');
        btn.disabled = true;
        
        // 1. T·ªêC ƒê·ªò NH·∫¢Y S·ªê: C·ª±c nhanh (20ms)
        // 2. TH·ªúI GIAN QUAY: TƒÉng l√™n (v√≠ d·ª• quay 150 l·∫ßn * 20ms = 3 gi√¢y quay + d·ª´ng)
        let counter = 0;
        const totalSpins = 150; 
        
        const interval = setInterval(() => {
            const tempPrizes = ["10k", "20k", "50k", "99k", "00k"]; // Hi·ªáu ·ª©ng nh·∫£y s·ªë gi·∫£
            resultDiv.innerText = tempPrizes[Math.floor(Math.random() * tempPrizes.length)];
            
            counter++;
            if (counter > totalSpins) {
                clearInterval(interval);
                finalizeResult();
            }
        }, 20); // 20ms l√† t·ªëc ƒë·ªô nh·∫£y s·ªë r·∫•t nhanh
    }

    function finalizeResult() {
        const btn = document.getElementById('spinBtn');
        const resultDiv = document.getElementById('result');
        
        let pool = [];
        if (inventory["50.000"] > 0) pool.push("50.000");
        if (inventory["20.000"] > 0) pool.push("20.000");
        
        // T·ªâ l·ªá tr√∫ng 10k cao (th√™m nhi·ªÅu ph·∫ßn t·ª≠ 10k v√†o m·∫£ng ch·ªçn)
        for(let i=0; i<10; i++) pool.push("10.000");

        const finalPrize = pool[Math.floor(Math.random() * pool.length)];

        if (inventory[finalPrize] !== Infinity) {
            inventory[finalPrize]--;
        }

        // Hi·ªÉn th·ªã k·∫øt qu·∫£ cu·ªëi c√πng v·ªõi ƒë∆°n v·ªã ƒê
        resultDiv.innerText = finalPrize + "ƒë";
        resultDiv.style.color = "#d32f2f"; // ƒê·ªïi m√†u khi tr√∫ng

        updateUI(finalPrize);
        btn.disabled = false;
    }

    function updateUI(prize) {
        document.getElementById('count50').innerText = inventory["50.000"];
        document.getElementById('count20').innerText = inventory["20.000"];
        
        const historyDiv = document.getElementById('history');
        const newItem = document.createElement('div');
        newItem.innerHTML = `‚≠ê Gi·∫£i <b>${prize}ƒë</b> - <i>${new Date().toLocaleTimeString()}</i>`;
        historyDiv.prepend(newItem);
    }
</script>

</body>
</html>
